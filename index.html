<html>
    <head>
        <link rel="stylesheet" type="text/css" href="master.css">
        <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
        <script>
            $(document).ready(function() {
                var grid = [], $container = $("#container");;
                for (var l = 0; l < 9; l++) {
                    grid[l] = [];
                }
                $('.btn-submit').on('click', function(e) {
                    if (!checkHoriz()) {
                        $container.append('<div style="color: red">Error</div>');
                    }    
                });
                $('.board').on('focusout', function(e) {
                    var $target = $(e.target), val = parseInt($(e.target).val());
                    if (isNaN(val) || val < 1 || val > 9) {
                        $target.val('');
                    }
                    else {
                        var tcol = parseInt($target.data('tc'));
                        var trow = parseInt($target.data('tr'));
                        grid[tcol][trow] = val;    
                    }
                });
                function checkVert() {
                    for (var i = 0; i < 9; i++) {
                        for (var j = 0; j < 9; j++) {
                            var currVal = grid[i][j];
                            for (var k = j + 1; k < 9; k++) {    
                                if (grid[i][k] == currVal || currVal == 'undefined') {
                                    return false;
                                }
                            }
                        }
                    }
                    return true;
                }
                function checkHoriz() {
                    for (var i = 0; i < 9; i++) {
                        for (var j = 0; j < 9; j++) {
                            var currVal = grid[j][i];
                            for (var k = j + 1; k < 9; k++) {
                                if (grid[k][i] == currVal || currVal == 'underfined') {
                                    return false;
                                } 
                            }
                        }
                    }
                    return true;
                }
                function checkSquares() {
                    
                }
                function isWinner() {
                    return checkVert() && checkHoriz() && checkSquares();
                }
                for (var j = 0; j < 9; j++) {
                    var $row = $("<tr></tr>");
                    var tclass = '';
                    if (j === 3 || j === 6) {
                        tclass = 'b1';
                    }
                    for (var i = 0; i < 9; i++) {
                        var bclass = tclass;
                        if ( i === 3 || i === 6 ) {
                            bclass += ' b0';
                        }
                        $row.append('<td class="cell ' + bclass + '"><input class="cell-input" data-tc=' + i + ' data-tr=' + j + ' size=1 autocomplete="off" maxlength=1></td>');
                    }
                    $container.append($row)
                }
            });
            </script>
    </head>
    <body>
        <table class="board" cellspacing="0" cellpadding="0">
             <tbody id="container"></tbody>
        </table>
    </body>
    <input type="button" class="btn-submit" value="CHECK SOLUTION!">
</html>
